<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form>
      Nombre <input type="text" name="" id="nombre" /> Apellidos
      <input type="text" name="" id="apellidos" /> <br />
      Fumador: &nbsp; <input type="radio" name="fumador" id="fumador1" />Si
      &nbsp; <input type="radio" name="fumador" id="fumador2" /> No
      <div id="hijos">
        <input type="number" name="hijos" id="hijos" max="3" min="0" />NÂº hijos
      </div>
      <br />
      Intolerancia: <input type="checkbox" name="" id="gl" class="alergias"/>GL &nbsp;
      <input type="checkbox" name="" id="la" class="alergias"/> Lacteos
      <input type="checkbox" name="" id="noAlergias" /> No
    </form>
  </body>

  <script>
    let nombre = document.getElementById("nombre");
    let hijos = document.getElementById("hijos");
    let radioNo = document.getElementById("fumador2");
    let radioSi = document.getElementById("fumador1");
    let noAlergias = document.getElementById("noAlergias");
    let alergias = document.getElementsByClassName("alergias");

    function anadirEventos() {
      nombre.addEventListener("blur", compruebaNombre);
      hijos.hidden = true;
      radioNo.addEventListener("change", checkFuma);
      radioSi.addEventListener("change", checkFuma);
      noAlergias.addEventListener("click", checkAlergia);
    }

    function checkFuma() {
      if (radioNo.checked == true) {
        hijos.hidden = false;
      } else {
        hijos.hidden = true;
      }
    }

    function checkAlergia(params) {
      if (noAlergias.checked == true) {

        alergias[0].disabled = true;
        alergias[1].disabled = true;


      }else{

        alergias[0].disabled = false;
        alergias[1].disabled = false;
      }
    }

    function compruebaNombre() {
      if (nombre.value.length >= 1) {
        if (nombre.value.length >= 12) {
          alert("NOMBRE INVALIDO: no puede tener mas de 12 caracteres");
          nombre.style.borderColor = "red ";
          nombre.value = "";
        } else {
          nombre.style.borderColor = "lightgreen";
        }
      } else {
        alert("NOMBRE INVALIDO: introduzca nombre");
        nombre.style.borderColor = "red ";
      }
    }

    window.onload = anadirEventos();
  </script>
</html>